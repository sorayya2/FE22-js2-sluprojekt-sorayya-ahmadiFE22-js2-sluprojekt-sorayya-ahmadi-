var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},n=e.parcelRequiref629;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in s){var n=s[e];delete s[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){s[e]=t},e.parcelRequiref629=n);var o=n("gdelx"),i=n("7McF0");class r{constructor(e,t,s,n){this.id=e,this.userName=t,this.message=s,this.timeStamp=n,this.displayMsg()}displayMsg(){const e=document.getElementById("messagesShows"),t=document.createElement("div");e.append(t),t.classList.add(this.id,"chat-styling");const s=document.createElement("h4");s.innerText=this.timeStamp+`${this.userName} says ${this.message}`,t.append(s);const n=document.createElement("button");n.innerText="X",this.userName==sessionStorage.getItem("user")&&t.append(n),n.addEventListener("click",(()=>{if(sessionStorage.getItem("user")==sessionStorage.getItem("user")){const e=(0,o.ref)(i.db,"/Topics/Shows/"+this.id);(0,o.remove)(e)}}))}clearDOM(){document.querySelector(`.${this.id}`).remove()}}const l=(0,o.ref)(i.db,"/Topics/Shows/");let a=[];(0,o.onValue)(l,(e=>{const t=e.val();for(const e of a)e.clearDOM();a=[];for(const e in t)a.push(new r(e,t[e].name,t[e].message,t[e].timeStamp));!function(){const e=document.getElementById("messagesShows");e.scrollTop=e.scrollHeight}(),t&&function(){const e=Object.values(t),s=Object.keys(t)[0];for(let t=0;t<e.length;t++)if(e.length>25){const e=(0,o.ref)(i.db,"/Topics/Shows/"+s);(0,o.remove)(e)}}()})),null==sessionStorage.getItem("user")?document.getElementById("send").style.visibility="hidden":(document.getElementById("send").style.visibility="visible",document.getElementById("send").addEventListener("click",(e=>{e.preventDefault();const t=document.getElementById("userMessage"),s=new Date,n={timeStamp:s.getFullYear()+" "+(s.getMonth()+1)+"/"+s.getUTCDate()+" - "+s.getHours()+":"+s.getMinutes()+": ",name:sessionStorage.getItem("user"),message:t.value},i={};i[(0,o.push)(l).key]=n,(0,o.update)(l,i)}))),document.getElementById("logout-button").addEventListener("click",(()=>{sessionStorage.clear()}));
//# sourceMappingURL=forumShows.84b16bde.js.map
